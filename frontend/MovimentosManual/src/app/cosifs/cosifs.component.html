<a routerLink="/home" class="btn-voltar">Voltar</a>

<h2>Cadastro de Cosif</h2>

<form (ngSubmit)="onSubmit()">
  <div class="form-row">
    <label>Produto:</label>
    <select [(ngModel)]="cosif.codigoProduto" name="codigoProduto" required>
      <option value="" disabled>Selecione</option>
      <option *ngFor="let produto of produtos" [value]="produto.codigoProduto.trim()">
        {{ produto.descricao }}
      </option>
    </select>

    <label>Cosif:</label>
    <input type="text" [(ngModel)]="cosif.codigoCosif" name="codigoCosif" required />
  </div>

  <div class="form-row">
    <label>Classificação:</label>
    <input type="text" [(ngModel)]="cosif.codigoClassificacao" name="codigoClassificacao" required />

    <label>Status:</label>
    <select [(ngModel)]="cosif.status" name="status" required>
      <option value="" disabled>Selecione</option>
      <option value="A">Ativo</option>
      <option value="I">Inativo</option>
    </select>
  </div>

  <div class="form-actions">
    <button type="submit">{{ editando ? 'Atualizar' : 'Incluir' }}</button>
    <button type="button" (click)="limpar()">Limpar</button>
  </div>
</form>

<hr />

<table>
  <thead>
    <tr>
      <th>Produto</th>
      <th>Cosif</th>
      <th>Classificação</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of cosifs">
      <td>{{ c.codigoProduto }}</td>
      <td>{{ c.codigoCosif }}</td>
      <td>{{ c.codigoClassificacao }}</td>
      <td>{{ c.status === 'A' ? 'Ativo' : 'Inativo' }}</td>
      <td>
        <button type="button" (click)="editar(c)">Editar</button>
        <button type="button" (click)="excluir(c.codigoProduto, c.codigoCosif)">Excluir</button>
      </td>
    </tr>
  </tbody>
</table>
