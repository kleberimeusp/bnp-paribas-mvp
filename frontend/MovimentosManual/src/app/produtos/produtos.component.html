<a routerLink="/home" class="btn-voltar">Voltar</a>

<h2>Cadastro de Produtos</h2>

<div class="produto-formulario card">
  <form (ngSubmit)="salvar()" #produtoForm="ngForm">
    <div class="form-row">
      <div class="form-field">
        <label for="codigoProduto">Código:</label>
        <input
          type="text"
          id="codigoProduto"
          name="codigoProduto"
          [(ngModel)]="produto.codigoProduto"
          [readonly]="editando"
          required
          placeholder="Ex: PRD001"
        />
      </div>

      <div class="form-field">
        <label for="descricao">Descrição:</label>
        <input
          type="text"
          id="descricao"
          name="descricao"
          [(ngModel)]="produto.descricao"
          required
          placeholder="Descrição do Produto"
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-field">
        <label for="status">Status:</label>
        <select
          id="status"
          name="status"
          [(ngModel)]="produto.status"
          required
        >
          <option [ngValue]="null" disabled>Selecione</option>
          <option value="A">Ativo</option>
          <option value="I">Inativo</option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-neutral" (click)="novo()">Novo</button>
      <button type="submit" class="btn-primary">{{ editando ? 'Atualizar' : 'Incluir' }}</button>
      <button type="button" class="btn-neutral" (click)="limpar()">Limpar</button>
    </div>
  </form>
</div>

<hr />

<div class="produto-listagem">
  <div class="table-responsive">
    <table>
      <thead>
        <tr>
          <th>Código</th>
          <th>Descrição</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of produtos">
          <td>{{ p.codigoProduto }}</td>
          <td>{{ p.descricao }}</td>
          <td>{{ p.status === 'A' ? 'Ativo' : 'Inativo' }}</td>
          <td>
            <button type="button" class="btn-primary" (click)="editar(p)">Editar</button>
            <button type="button" class="btn-danger" (click)="excluir(p.codigoProduto)">Excluir</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>